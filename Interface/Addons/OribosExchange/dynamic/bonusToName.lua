
local addonName, addonTable = ...

local namesByBonus = {[3]={0,13111},[19]={0,13150},[20]={0,13150},[21]={0,13150},[22]={0,13150},[23]={0,13150},[24]={0,13150},[25]={0,13150},[26]={0,13150},[27]={0,13150},[28]={0,13150},[29]={0,13150},[30]={0,13150},[31]={0,13150},[32]={0,13150},[33]={0,13150},[34]={0,13150},[35]={0,13150},[36]={0,13150},[37]={0,13150},[38]={0,13150},[39]={0,13150},[45]={0,13151},[46]={0,13151},[47]={0,13151},[48]={0,13151},[49]={0,13151},[50]={0,13151},[51]={0,13151},[52]={0,13151},[53]={0,13151},[54]={0,13151},[55]={0,13151},[56]={0,13151},[57]={0,13151},[58]={0,13151},[59]={0,13151},[60]={0,13151},[61]={0,13151},[62]={0,13151},[63]={0,13151},[64]={0,13151},[65]={0,13151},[66]={0,13151},[67]={0,13151},[68]={0,13151},[69]={0,13151},[70]={0,13151},[71]={0,13151},[72]={0,13151},[73]={0,13151},[74]={0,13151},[75]={0,13151},[76]={0,13151},[77]={0,13151},[78]={0,13151},[79]={0,13151},[80]={0,13151},[81]={0,13151},[82]={0,13151},[83]={0,13151},[84]={0,13151},[85]={0,13151},[86]={0,13151},[87]={0,13152},[88]={0,13152},[89]={0,13152},[90]={0,13152},[91]={0,13152},[92]={0,13152},[93]={0,13152},[94]={0,13152},[95]={0,13152},[96]={0,13152},[97]={0,13152},[98]={0,13152},[99]={0,13152},[100]={0,13152},[101]={0,13152},[102]={0,13152},[103]={0,13152},[104]={0,13152},[105]={0,13152},[106]={0,13152},[107]={0,13152},[108]={0,13156},[109]={0,13156},[110]={0,13156},[111]={0,13156},[112]={0,13156},[113]={0,13156},[114]={0,13156},[115]={0,13156},[116]={0,13156},[117]={0,13156},[118]={0,13156},[119]={0,13156},[120]={0,13156},[121]={0,13156},[122]={0,13156},[123]={0,13156},[124]={0,13156},[125]={0,13156},[126]={0,13156},[127]={0,13156},[128]={0,13156},[129]={0,13150},[130]={0,13150},[131]={0,13150},[132]={0,13150},[133]={0,13150},[134]={0,13150},[135]={0,13150},[136]={0,13150},[137]={0,13150},[138]={0,13150},[139]={0,13150},[140]={0,13150},[141]={0,13150},[142]={0,13150},[143]={0,13150},[144]={0,13150},[145]={0,13150},[146]={0,13150},[147]={0,13150},[148]={0,13150},[149]={0,13150},[150]={0,13157},[151]={0,13157},[152]={0,13157},[153]={0,13157},[154]={0,13157},[155]={0,13157},[156]={0,13157},[157]={0,13157},[158]={0,13157},[159]={0,13157},[160]={0,13157},[161]={0,13157},[162]={0,13157},[163]={0,13157},[164]={0,13157},[165]={0,13157},[166]={0,13157},[167]={0,13157},[168]={0,13157},[169]={0,13157},[170]={0,13157},[175]={0,13156},[176]={0,13156},[177]={0,13156},[178]={0,13156},[179]={0,13156},[180]={0,13156},[181]={0,13156},[182]={0,13156},[183]={0,13156},[184]={0,13156},[185]={0,13156},[186]={0,13156},[187]={0,13156},[188]={0,13156},[189]={0,13156},[190]={0,13156},[191]={0,13156},[192]={0,13156},[193]={0,13156},[194]={0,13156},[195]={0,13156},[196]={0,13161},[197]={0,13161},[198]={0,13161},[199]={0,13161},[200]={0,13161},[201]={0,13161},[202]={0,13161},[203]={0,13161},[204]={0,13161},[205]={0,13161},[206]={0,13161},[207]={0,13161},[208]={0,13161},[209]={0,13161},[210]={0,13161},[211]={0,13161},[212]={0,13161},[213]={0,13161},[214]={0,13161},[215]={0,13161},[216]={0,13161},[217]={0,13157},[218]={0,13157},[219]={0,13157},[220]={0,13157},[221]={0,13157},[222]={0,13157},[223]={0,13157},[224]={0,13157},[225]={0,13157},[226]={0,13157},[227]={0,13157},[228]={0,13157},[229]={0,13157},[230]={0,13157},[231]={0,13157},[232]={0,13157},[233]={0,13157},[234]={0,13157},[235]={0,13157},[236]={0,13157},[237]={0,13157},[238]={0,13152},[239]={0,13152},[240]={0,13152},[241]={0,13152},[242]={0,13152},[243]={0,13152},[244]={0,13152},[245]={0,13152},[246]={0,13152},[247]={0,13152},[248]={0,13152},[249]={0,13152},[250]={0,13152},[251]={0,13152},[252]={0,13152},[253]={0,13152},[254]={0,13152},[255]={0,13152},[256]={0,13152},[257]={0,13152},[258]={0,13152},[259]={0,13157},[260]={0,13157},[261]={0,13157},[262]={0,13157},[263]={0,13157},[264]={0,13157},[265]={0,13157},[266]={0,13157},[267]={0,13157},[268]={0,13157},[269]={0,13157},[270]={0,13157},[271]={0,13157},[272]={0,13157},[273]={0,13157},[274]={0,13157},[275]={0,13157},[276]={0,13157},[277]={0,13157},[278]={0,13157},[279]={0,13157},[280]={0,13161},[281]={0,13161},[282]={0,13161},[283]={0,13161},[284]={0,13161},[285]={0,13161},[286]={0,13161},[287]={0,13161},[288]={0,13161},[289]={0,13161},[290]={0,13161},[291]={0,13161},[292]={0,13161},[293]={0,13161},[294]={0,13161},[295]={0,13161},[296]={0,13161},[297]={0,13161},[298]={0,13161},[299]={0,13161},[300]={0,13161},[301]={0,13152},[302]={0,13152},[303]={0,13152},[304]={0,13152},[305]={0,13152},[306]={0,13152},[307]={0,13152},[308]={0,13152},[309]={0,13152},[310]={0,13152},[311]={0,13152},[312]={0,13152},[313]={0,13152},[314]={0,13152},[315]={0,13152},[316]={0,13152},[317]={0,13152},[318]={0,13152},[319]={0,13152},[320]={0,13152},[321]={0,13152},[322]={0,13161},[323]={0,13161},[324]={0,13161},[325]={0,13161},[326]={0,13161},[327]={0,13161},[328]={0,13161},[329]={0,13161},[330]={0,13161},[331]={0,13161},[332]={0,13161},[333]={0,13161},[334]={0,13161},[335]={0,13161},[336]={0,13161},[337]={0,13161},[338]={0,13161},[339]={0,13161},[340]={0,13161},[341]={0,13161},[342]={0,13161},[343]={0,13152},[344]={0,13152},[345]={0,13152},[346]={0,13152},[347]={0,13152},[348]={0,13152},[349]={0,13152},[350]={0,13152},[351]={0,13152},[352]={0,13152},[353]={0,13152},[354]={0,13152},[355]={0,13152},[356]={0,13152},[357]={0,13152},[358]={0,13152},[359]={0,13152},[360]={0,13152},[361]={0,13152},[362]={0,13152},[363]={0,13152},[364]={0,13157},[365]={0,13157},[366]={0,13157},[367]={0,13157},[368]={0,13157},[369]={0,13157},[370]={0,13157},[371]={0,13157},[372]={0,13157},[373]={0,13157},[374]={0,13157},[375]={0,13157},[376]={0,13157},[377]={0,13157},[378]={0,13157},[379]={0,13157},[380]={0,13157},[381]={0,13157},[382]={0,13157},[383]={0,13157},[384]={0,13157},[385]={0,13161},[386]={0,13161},[387]={0,13161},[388]={0,13161},[389]={0,13161},[390]={0,13161},[391]={0,13161},[392]={0,13161},[393]={0,13161},[394]={0,13161},[395]={0,13161},[396]={0,13161},[397]={0,13161},[398]={0,13161},[399]={0,13161},[400]={0,13161},[401]={0,13161},[402]={0,13161},[403]={0,13161},[404]={0,13161},[405]={0,13161},[406]={0,13157},[407]={0,13157},[408]={0,13157},[409]={0,13157},[410]={0,13157},[411]={0,13157},[412]={0,13157},[413]={0,13157},[414]={0,13157},[415]={0,13157},[416]={0,13157},[417]={0,13157},[418]={0,13157},[419]={0,13157},[420]={0,13157},[421]={0,13157},[422]={0,13157},[423]={0,13157},[424]={0,13157},[425]={0,13157},[426]={0,13157},[427]={0,13161},[428]={0,13161},[429]={0,13161},[430]={0,13161},[431]={0,13161},[432]={0,13161},[433]={0,13161},[434]={0,13161},[435]={0,13161},[436]={0,13161},[437]={0,13161},[438]={0,13161},[439]={0,13161},[440]={0,13161},[441]={0,13161},[442]={0,13161},[443]={0,13161},[444]={0,13161},[445]={0,13161},[446]={0,13161},[447]={0,13161},[459]={0,13150},[460]={0,13151},[461]={0,13153},[462]={0,13154},[463]={0,13155},[464]={0,13156},[465]={0,13157},[466]={0,13158},[467]={0,13159},[468]={0,13160},[469]={0,13161},[470]={0,13162},[471]={0,13163},[472]={0,13164},[473]={0,13165},[474]={0,13166},[475]={0,13167},[476]={0,13168},[477]={0,13169},[478]={0,13152},[479]={0,13170},[480]={0,13171},[481]={0,13172},[482]={0,13173},[483]={0,13174},[484]={0,13175},[485]={0,13176},[486]={0,13176},[487]={0,13170},[488]={0,13171},[489]={0,13176},[490]={0,13172},[491]={0,13172},[492]={0,13172},[497]={1,13162},[580]={0,3859},[581]={0,13145},[1676]={0,13152},[1677]={0,13152},[1678]={0,13152},[1679]={0,13152},[1680]={0,13152},[1681]={0,13152},[1682]={0,13152},[1683]={0,13151},[1684]={0,13151},[1685]={0,13151},[1686]={0,13151},[1687]={0,13151},[1688]={0,13151},[1689]={0,13151},[1690]={0,13150},[1691]={0,13150},[1692]={0,13150},[1693]={0,13150},[1694]={0,13150},[1695]={0,13150},[1696]={0,13150},[1697]={0,13156},[1698]={0,13156},[1699]={0,13156},[1700]={0,13156},[1701]={0,13156},[1702]={0,13156},[1703]={0,13156},[1704]={0,13157},[1705]={0,13157},[1706]={0,13157},[1707]={0,13157},[1708]={0,13157},[1709]={0,13157},[1710]={0,13157},[1711]={0,13161},[1712]={0,13161},[1713]={0,13161},[1714]={0,13161},[1715]={0,13161},[1716]={0,13161},[1717]={0,13161},[1718]={0,13176},[1719]={0,13172},[1720]={0,13170},[1721]={0,13171},[1742]={0,13152},[1743]={0,13152},[1744]={0,13152},[1745]={0,13152},[1746]={0,13152},[1747]={0,13152},[1748]={0,13152},[1749]={0,13151},[1750]={0,13151},[1751]={0,13151},[1752]={0,13151},[1753]={0,13151},[1754]={0,13151},[1755]={0,13151},[1756]={0,13150},[1757]={0,13150},[1758]={0,13150},[1759]={0,13150},[1760]={0,13150},[1761]={0,13150},[1762]={0,13150},[1763]={0,13156},[1764]={0,13156},[1765]={0,13156},[1766]={0,13156},[1767]={0,13156},[1768]={0,13156},[1769]={0,13156},[1770]={0,13157},[1771]={0,13157},[1772]={0,13157},[1773]={0,13157},[1774]={0,13157},[1775]={0,13157},[1776]={0,13157},[1777]={0,13161},[1778]={0,13161},[1779]={0,13161},[1780]={0,13161},[1781]={0,13161},[1782]={0,13161},[1783]={0,13161},[1784]={0,13176},[1785]={0,13172},[1786]={0,13170},[1787]={0,13171},[3343]={0,13152},[3344]={0,13152},[3345]={0,13152},[3346]={0,13151},[3347]={0,13151},[3348]={0,13151},[3349]={0,13150},[3350]={0,13150},[3351]={0,13151},[3352]={0,13151},[3353]={0,13150},[3354]={0,13151},[3355]={0,13156},[3356]={0,13156},[3357]={0,13156},[3358]={0,13161},[3359]={0,13161},[3360]={0,13161},[3361]={0,13152},[3362]={0,13152},[3363]={0,13152},[3364]={0,13157},[3365]={0,13157},[3366]={0,13157},[3367]={0,13161},[3368]={0,13161},[3369]={0,13161},[3370]={0,13150},[3371]={0,13150},[3372]={0,13150},[3373]={0,13156},[3374]={0,13156},[3375]={0,13156},[3376]={0,13157},[3377]={0,13157},[3378]={0,13157},[3401]={0,13152},[3402]={0,13151},[3403]={0,13150},[3404]={0,13156},[3405]={0,13157},[3406]={0,13161},[3618]={0,13333},[3619]={0,13334},[4230]={0,13111},[4231]={0,13169},[4232]={0,13157},[7109]={0,13625},[7985]={0,13152},[7986]={0,13152},[7987]={0,13152},[7988]={0,13152},[7989]={0,13152},[7990]={0,13152},[7991]={0,13152},[7992]={0,13152},[7993]={0,13152},[7994]={0,13152},[7995]={0,13152},[7996]={0,13152},[7997]={0,13152},[7998]={0,13152},[7999]={0,13152},[8000]={0,13152},[8001]={0,13152},[8002]={0,13152},[8003]={0,13151},[8004]={0,13151},[8005]={0,13151},[8006]={0,13151},[8007]={0,13151},[8008]={0,13151},[8009]={0,13151},[8010]={0,13151},[8011]={0,13151},[8012]={0,13151},[8013]={0,13151},[8014]={0,13151},[8015]={0,13151},[8016]={0,13151},[8017]={0,13151},[8018]={0,13151},[8019]={0,13151},[8020]={0,13151},[8021]={0,13150},[8022]={0,13150},[8023]={0,13150},[8024]={0,13150},[8025]={0,13150},[8026]={0,13150},[8027]={0,13150},[8028]={0,13150},[8029]={0,13150},[8030]={0,13150},[8031]={0,13150},[8032]={0,13150},[8033]={0,13150},[8034]={0,13150},[8035]={0,13150},[8036]={0,13150},[8037]={0,13150},[8038]={0,13150},[8039]={0,13156},[8040]={0,13156},[8041]={0,13156},[8042]={0,13156},[8043]={0,13156},[8044]={0,13156},[8045]={0,13156},[8046]={0,13156},[8047]={0,13156},[8048]={0,13156},[8049]={0,13156},[8050]={0,13156},[8051]={0,13156},[8052]={0,13156},[8053]={0,13156},[8054]={0,13156},[8055]={0,13156},[8056]={0,13156},[8057]={0,13157},[8058]={0,13157},[8059]={0,13157},[8060]={0,13157},[8061]={0,13157},[8062]={0,13157},[8063]={0,13157},[8064]={0,13157},[8065]={0,13157},[8066]={0,13157},[8067]={0,13157},[8068]={0,13157},[8069]={0,13157},[8070]={0,13157},[8071]={0,13157},[8072]={0,13157},[8073]={0,13157},[8074]={0,13157},[8075]={0,13161},[8076]={0,13161},[8077]={0,13161},[8078]={0,13161},[8079]={0,13161},[8080]={0,13161},[8081]={0,13161},[8082]={0,13161},[8083]={0,13161},[8084]={0,13161},[8085]={0,13161},[8086]={0,13161},[8087]={0,13161},[8088]={0,13161},[8089]={0,13161},[8090]={0,13161},[8091]={0,13161},[8092]={0,13161},[8176]={0,13150},[8177]={0,13150},[8178]={0,13151},[8179]={0,13151},[8180]={0,13152},[8181]={0,13152},[8182]={0,13156},[8183]={0,13156},[8184]={0,13157},[8185]={0,13157},[8186]={0,13161},[8187]={0,13161}}

local function getNameId(item)
    local _, link = GetItemInfo(item)
    if not link then
        return nil
    end

    local itemString = string.match(link, "item[%-?%d:]+")
    local itemStringParts = { strsplit(":", itemString) }

    local numBonuses = tonumber(itemStringParts[14],10) or 0

    if numBonuses == 0 then
        return nil
    end

    local name, namePrio

    for y = 1,numBonuses,1 do
        local bonus = tonumber(itemStringParts[14+y], 10) or 0
        local nameInfo = namesByBonus[bonus]
        if nameInfo then
            if name == nil or namePrio > nameInfo > nameInfo[1] then
                namePrio = nameInfo[1]
                name = nameInfo[2]
            end
        end
    end

    return name
end

addonTable.getNameId = getNameId
